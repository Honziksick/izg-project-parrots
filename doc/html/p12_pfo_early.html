<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Izg project: 12 Brzké per fragment operace</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Izg project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('p12_pfo_early.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">12 Brzké per fragment operace</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Mezi brzké Per Fragment Operace patří:</p><ul>
<li>stencilový test,</li>
<li>hloubkový test.</li>
</ul>
<div class="image">
<object type="image/svg+xml" data="pfo_early.svg" width="800" style="pointer-events: none;"></object>
<div class="caption">
Brzké Per Fragment operace se skládají ze stencilové a hloubkové části.</div></div>
<h1><a class="anchor" id="pfo_early_stencil_test"></a>
Stencilový test</h1>
<p>Stencilový test slouží k zahození fragmentů například pokud uživatel chce kreslit jen v části obrazovky. Využívá se například pro vykreslení portálů, zrcadel a podobných efektů. Ke stencilovému testu se váže stencilový buffer.</p>
<div class="image">
<object type="image/svg+xml" data="pfo_early_stencil.svg" width="800" style="pointer-events: none;"></object>
<div class="caption">
Vizualizace stencilového testu. Stencil test nemusí být aktivovaný nebo nemusí být přítomný stencilový buffer, pak je test přeskočen. Pokud je test aktivní a projde, fragment pokračuje dál. Pokud selže, může se vyvolat sfail stencilová operace, pokud není blokován zápis do stencilového bufferu.</div></div>
<p>Nastavení stencilu je uloženo v paměti grafické karty <a class="el" href="structGPUMemory.html#a00d576026cb037973a8cdb85ba6e5498">GPUMemory::stencilSettings</a> </p><div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structStencilSettings.html">StencilSettings</a>{</div>
<div class="line">  <span class="keywordtype">bool</span>        <a class="code hl_variable" href="structStencilSettings.html#a6660cb6ab02d9a2384556a5b27a8ddc1">enabled</a>  = false              ; </div>
<div class="line">  <a class="code hl_enumeration" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0">StencilFunc</a> <a class="code hl_variable" href="structStencilSettings.html#aeef6ed112903656cc94a46ff39e2880d">func</a>     = <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0af3fc827ade4b968e50406496907ef962">StencilFunc::ALWAYS</a>; </div>
<div class="line">  uint32_t    <a class="code hl_variable" href="structStencilSettings.html#ad24b5e058cbbd57870b6c07a44df48e1">refValue</a> = 0                  ; </div>
<div class="line">  <a class="code hl_struct" href="structStencilOps.html">StencilOps</a>  <a class="code hl_variable" href="structStencilSettings.html#a80d833cb87eadee270af94f27ed2f4e9">frontOps</a>                      ; </div>
<div class="line">  <a class="code hl_struct" href="structStencilOps.html">StencilOps</a>  <a class="code hl_variable" href="structStencilSettings.html#a34c5f4762d31ee4bbdf10176a0bd3e82">backOps</a>                       ; </div>
<div class="line">};</div>
<div class="ttc" id="asolutionInterface_2src_2solutionInterface_2gpu_8hpp_html_ad3d7abe532ca7be55ba9e8e03916e2e0"><div class="ttname"><a href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0">StencilFunc</a></div><div class="ttdeci">StencilFunc</div><div class="ttdoc">[Buffer]</div><div class="ttdef"><b>Definition</b> gpu.hpp:319</div></div>
<div class="ttc" id="asolutionInterface_2src_2solutionInterface_2gpu_8hpp_html_ad3d7abe532ca7be55ba9e8e03916e2e0af3fc827ade4b968e50406496907ef962"><div class="ttname"><a href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0af3fc827ade4b968e50406496907ef962">StencilFunc::ALWAYS</a></div><div class="ttdeci">@ ALWAYS</div><div class="ttdoc">Stencil test will always pass.</div></div>
<div class="ttc" id="astructStencilOps_html"><div class="ttname"><a href="structStencilOps.html">StencilOps</a></div><div class="ttdoc">[StencilOp]</div><div class="ttdef"><b>Definition</b> gpu.hpp:355</div></div>
<div class="ttc" id="astructStencilSettings_html"><div class="ttname"><a href="structStencilSettings.html">StencilSettings</a></div><div class="ttdoc">[StencilOps]</div><div class="ttdef"><b>Definition</b> gpu.hpp:366</div></div>
<div class="ttc" id="astructStencilSettings_html_a34c5f4762d31ee4bbdf10176a0bd3e82"><div class="ttname"><a href="structStencilSettings.html#a34c5f4762d31ee4bbdf10176a0bd3e82">StencilSettings::backOps</a></div><div class="ttdeci">StencilOps backOps</div><div class="ttdoc">operations performed when a back-facing fragment is processed</div><div class="ttdef"><b>Definition</b> gpu.hpp:371</div></div>
<div class="ttc" id="astructStencilSettings_html_a6660cb6ab02d9a2384556a5b27a8ddc1"><div class="ttname"><a href="structStencilSettings.html#a6660cb6ab02d9a2384556a5b27a8ddc1">StencilSettings::enabled</a></div><div class="ttdeci">bool enabled</div><div class="ttdoc">is stencil test enabled?</div><div class="ttdef"><b>Definition</b> gpu.hpp:367</div></div>
<div class="ttc" id="astructStencilSettings_html_a80d833cb87eadee270af94f27ed2f4e9"><div class="ttname"><a href="structStencilSettings.html#a80d833cb87eadee270af94f27ed2f4e9">StencilSettings::frontOps</a></div><div class="ttdeci">StencilOps frontOps</div><div class="ttdoc">operations performen when a front-facing fragment is processed</div><div class="ttdef"><b>Definition</b> gpu.hpp:370</div></div>
<div class="ttc" id="astructStencilSettings_html_ad24b5e058cbbd57870b6c07a44df48e1"><div class="ttname"><a href="structStencilSettings.html#ad24b5e058cbbd57870b6c07a44df48e1">StencilSettings::refValue</a></div><div class="ttdeci">uint32_t refValue</div><div class="ttdoc">reference value to which a stencil buffer value is compared</div><div class="ttdef"><b>Definition</b> gpu.hpp:369</div></div>
<div class="ttc" id="astructStencilSettings_html_aeef6ed112903656cc94a46ff39e2880d"><div class="ttname"><a href="structStencilSettings.html#aeef6ed112903656cc94a46ff39e2880d">StencilSettings::func</a></div><div class="ttdeci">StencilFunc func</div><div class="ttdoc">comparison function</div><div class="ttdef"><b>Definition</b> gpu.hpp:368</div></div>
</div><!-- fragment --><h2><a class="anchor" id="pfo_early_stencil_test_func"></a>
Stencilová porovnávací funce</h2>
<p>Pokud je stencilový test aktivní je rozhodnut na základě těchto věcí:</p><ul>
<li>Referenční hodnotě <a class="el" href="structStencilSettings.html#ad24b5e058cbbd57870b6c07a44df48e1">StencilSettings::refValue</a></li>
<li>Stencilové funci <a class="el" href="structStencilSettings.html#aeef6ed112903656cc94a46ff39e2880d">StencilSettings::func</a></li>
<li>Hodnotě ve stencilovému bufferu <a class="el" href="structFramebuffer.html#ac2732cb27f34176ed1a1acc001c18a88">Framebuffer::stencil</a></li>
</ul>
<p>Mezi stencilové funkce patří hodnoty z enumu <a class="el" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0">StencilFunc</a> </p><div class="fragment"><div class="line"><span class="keyword">enum class</span> <a class="code hl_enumeration" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0">StencilFunc</a>{</div>
<div class="line">  <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a443475558f0168dff92ecde26b98ae5a">NEVER</a>   , </div>
<div class="line">  <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a1798e8c3621ca53d9e3a80d257306000">LESS</a>    , </div>
<div class="line">  <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a8a72211a539c4f44dcaa446209076da6">LEQUAL</a>  , </div>
<div class="line">  <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0ae7e72355289e404b762d4cf88824d23b">GREATER</a> , </div>
<div class="line">  <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a9e63a520a6e8fefd37a5fa966d96f3bc">GEQUAL</a>  , </div>
<div class="line">  <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a969f331a87d8c958473c32b4d0e61a44">EQUAL</a>   , </div>
<div class="line">  <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a94fbd04a26dff1689ee02634be6aaf1f">NOTEQUAL</a>, </div>
<div class="line">  <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0af3fc827ade4b968e50406496907ef962">ALWAYS</a>  , </div>
<div class="line">};</div>
<div class="ttc" id="asolutionInterface_2src_2solutionInterface_2gpu_8hpp_html_ad3d7abe532ca7be55ba9e8e03916e2e0a1798e8c3621ca53d9e3a80d257306000"><div class="ttname"><a href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a1798e8c3621ca53d9e3a80d257306000">StencilFunc::LESS</a></div><div class="ttdeci">@ LESS</div><div class="ttdoc">Stencil test will pass if value in stencil buffer is &lt; than reference value.</div></div>
<div class="ttc" id="asolutionInterface_2src_2solutionInterface_2gpu_8hpp_html_ad3d7abe532ca7be55ba9e8e03916e2e0a443475558f0168dff92ecde26b98ae5a"><div class="ttname"><a href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a443475558f0168dff92ecde26b98ae5a">StencilFunc::NEVER</a></div><div class="ttdeci">@ NEVER</div><div class="ttdoc">Stencil test will never pass.</div></div>
<div class="ttc" id="asolutionInterface_2src_2solutionInterface_2gpu_8hpp_html_ad3d7abe532ca7be55ba9e8e03916e2e0a8a72211a539c4f44dcaa446209076da6"><div class="ttname"><a href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a8a72211a539c4f44dcaa446209076da6">StencilFunc::LEQUAL</a></div><div class="ttdeci">@ LEQUAL</div><div class="ttdoc">Stencil tess will pass if value in stencil buffer is &lt;= than reference value.</div></div>
<div class="ttc" id="asolutionInterface_2src_2solutionInterface_2gpu_8hpp_html_ad3d7abe532ca7be55ba9e8e03916e2e0a94fbd04a26dff1689ee02634be6aaf1f"><div class="ttname"><a href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a94fbd04a26dff1689ee02634be6aaf1f">StencilFunc::NOTEQUAL</a></div><div class="ttdeci">@ NOTEQUAL</div><div class="ttdoc">Stencil test will pass if value in stencil buffer is != to reference value.</div></div>
<div class="ttc" id="asolutionInterface_2src_2solutionInterface_2gpu_8hpp_html_ad3d7abe532ca7be55ba9e8e03916e2e0a969f331a87d8c958473c32b4d0e61a44"><div class="ttname"><a href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a969f331a87d8c958473c32b4d0e61a44">StencilFunc::EQUAL</a></div><div class="ttdeci">@ EQUAL</div><div class="ttdoc">Stencil test will pass if value in stencil buffer is == to reference value.</div></div>
<div class="ttc" id="asolutionInterface_2src_2solutionInterface_2gpu_8hpp_html_ad3d7abe532ca7be55ba9e8e03916e2e0a9e63a520a6e8fefd37a5fa966d96f3bc"><div class="ttname"><a href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a9e63a520a6e8fefd37a5fa966d96f3bc">StencilFunc::GEQUAL</a></div><div class="ttdeci">@ GEQUAL</div><div class="ttdoc">Stencil test will pass if value in stencil buffer is &gt;= than reference value.</div></div>
<div class="ttc" id="asolutionInterface_2src_2solutionInterface_2gpu_8hpp_html_ad3d7abe532ca7be55ba9e8e03916e2e0ae7e72355289e404b762d4cf88824d23b"><div class="ttname"><a href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0ae7e72355289e404b762d4cf88824d23b">StencilFunc::GREATER</a></div><div class="ttdeci">@ GREATER</div><div class="ttdoc">Stencil test will pass if value in stencil buffer is &gt; than reference value.</div></div>
</div><!-- fragment --><ul>
<li><a class="el" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a443475558f0168dff92ecde26b98ae5a" title="Stencil test will never pass.">StencilFunc::NEVER</a> - nikdy neprojde</li>
<li><a class="el" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a1798e8c3621ca53d9e3a80d257306000" title="Stencil test will pass if value in stencil buffer is &lt; than reference value.">StencilFunc::LESS</a> - projde pokud je hodnota ve stencilovém buferu &lt; než <a class="el" href="structStencilSettings.html#ad24b5e058cbbd57870b6c07a44df48e1" title="reference value to which a stencil buffer value is compared">StencilSettings::refValue</a></li>
<li><a class="el" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a8a72211a539c4f44dcaa446209076da6" title="Stencil tess will pass if value in stencil buffer is &lt;= than reference value.">StencilFunc::LEQUAL</a> - projde pokud je hodnota ve stencilovém buferu &lt;= než <a class="el" href="structStencilSettings.html#ad24b5e058cbbd57870b6c07a44df48e1" title="reference value to which a stencil buffer value is compared">StencilSettings::refValue</a></li>
<li><a class="el" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0ae7e72355289e404b762d4cf88824d23b" title="Stencil test will pass if value in stencil buffer is &gt; than reference value.">StencilFunc::GREATER</a> - projde pokud je hodnota ve stencilovém buferu &gt; než <a class="el" href="structStencilSettings.html#ad24b5e058cbbd57870b6c07a44df48e1" title="reference value to which a stencil buffer value is compared">StencilSettings::refValue</a></li>
<li><a class="el" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a9e63a520a6e8fefd37a5fa966d96f3bc" title="Stencil test will pass if value in stencil buffer is &gt;= than reference value.">StencilFunc::GEQUAL</a> - projde pokud je hodnota ve stencilovém buferu &gt;= než <a class="el" href="structStencilSettings.html#ad24b5e058cbbd57870b6c07a44df48e1" title="reference value to which a stencil buffer value is compared">StencilSettings::refValue</a></li>
<li><a class="el" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a969f331a87d8c958473c32b4d0e61a44" title="Stencil test will pass if value in stencil buffer is == to reference value.">StencilFunc::EQUAL</a> - projde pokud je hodnota ve stencilovém buferu == než <a class="el" href="structStencilSettings.html#ad24b5e058cbbd57870b6c07a44df48e1" title="reference value to which a stencil buffer value is compared">StencilSettings::refValue</a></li>
<li><a class="el" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a94fbd04a26dff1689ee02634be6aaf1f" title="Stencil test will pass if value in stencil buffer is != to reference value.">StencilFunc::NOTEQUAL</a> - projde pokud je hodnota ve stencilovém buferu != než <a class="el" href="structStencilSettings.html#ad24b5e058cbbd57870b6c07a44df48e1" title="reference value to which a stencil buffer value is compared">StencilSettings::refValue</a></li>
<li><a class="el" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#ad3d7abe532ca7be55ba9e8e03916e2e0a443475558f0168dff92ecde26b98ae5a" title="Stencil test will never pass.">StencilFunc::NEVER</a> - vždy projde</li>
</ul>
<h2><a class="anchor" id="pfo_early_stencil_test_op"></a>
Stencilová operace</h2>
<p>Stencilová operace závisí na tom, zda je rasterizován přivrácený nebo odvrácený trojúhelník. Pokud se rasterizuje přivrácený trojúhelník, měla by se použít operace z <a class="el" href="structStencilSettings.html#a80d833cb87eadee270af94f27ed2f4e9">StencilSettings::frontOps</a> jinak <a class="el" href="structStencilSettings.html#a34c5f4762d31ee4bbdf10176a0bd3e82">StencilSettings::backOps</a>.</p>
<p>Mezi stencilové opereace patří hodnoty z enumu <a class="el" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566">StencilOp</a> </p><div class="fragment"><div class="line"><span class="keyword">enum class</span> <a class="code hl_enumeration" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566">StencilOp</a>{</div>
<div class="line">   <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566a60cba2874369bd3790e14ea5f8a7bc58">KEEP</a>     , </div>
<div class="line">   <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566a529e9e0beb5f85d1f132917c1a09860c">ZERO</a>     , </div>
<div class="line">   <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566a560a2dd6f6744646473b3b19e1fe96d7">REPLACE</a>  , </div>
<div class="line">   <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566afc67535e5273d466beba3c06c0dbd988">INCR</a>     , </div>
<div class="line">   <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566a056f9acd45832946a8f02289a8516e7f">INCR_WRAP</a>, </div>
<div class="line">   <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566ac121b991572aba8a5789d08d7e9cf76e">DECR</a>     , </div>
<div class="line">   <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566a6501b4eff3345af27614635221cc6c59">DECR_WRAP</a>, </div>
<div class="line">   <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566aa2727ae72447eea06d4cc0ef67187280">INVERT</a>   , </div>
<div class="line">};</div>
<div class="ttc" id="asolutionInterface_2src_2solutionInterface_2gpu_8hpp_html_af046868f9f300b11282490852e003566"><div class="ttname"><a href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566">StencilOp</a></div><div class="ttdeci">StencilOp</div><div class="ttdoc">[StencilFunc]</div><div class="ttdef"><b>Definition</b> gpu.hpp:339</div></div>
<div class="ttc" id="asolutionInterface_2src_2solutionInterface_2gpu_8hpp_html_af046868f9f300b11282490852e003566a056f9acd45832946a8f02289a8516e7f"><div class="ttname"><a href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566a056f9acd45832946a8f02289a8516e7f">StencilOp::INCR_WRAP</a></div><div class="ttdeci">@ INCR_WRAP</div><div class="ttdoc">Stencil buffer value will be incremented and return to zero on overflow.</div></div>
<div class="ttc" id="asolutionInterface_2src_2solutionInterface_2gpu_8hpp_html_af046868f9f300b11282490852e003566a529e9e0beb5f85d1f132917c1a09860c"><div class="ttname"><a href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566a529e9e0beb5f85d1f132917c1a09860c">StencilOp::ZERO</a></div><div class="ttdeci">@ ZERO</div><div class="ttdoc">Stencil buffer value will be zeroed.</div></div>
<div class="ttc" id="asolutionInterface_2src_2solutionInterface_2gpu_8hpp_html_af046868f9f300b11282490852e003566a560a2dd6f6744646473b3b19e1fe96d7"><div class="ttname"><a href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566a560a2dd6f6744646473b3b19e1fe96d7">StencilOp::REPLACE</a></div><div class="ttdeci">@ REPLACE</div><div class="ttdoc">Stencil buffer value will be replace by reference value.</div></div>
<div class="ttc" id="asolutionInterface_2src_2solutionInterface_2gpu_8hpp_html_af046868f9f300b11282490852e003566a60cba2874369bd3790e14ea5f8a7bc58"><div class="ttname"><a href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566a60cba2874369bd3790e14ea5f8a7bc58">StencilOp::KEEP</a></div><div class="ttdeci">@ KEEP</div><div class="ttdoc">No change to the stencil buffer.</div></div>
<div class="ttc" id="asolutionInterface_2src_2solutionInterface_2gpu_8hpp_html_af046868f9f300b11282490852e003566a6501b4eff3345af27614635221cc6c59"><div class="ttname"><a href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566a6501b4eff3345af27614635221cc6c59">StencilOp::DECR_WRAP</a></div><div class="ttdeci">@ DECR_WRAP</div><div class="ttdoc">Stencil buffer value will be decremented and go to 255 on underflow.</div></div>
<div class="ttc" id="asolutionInterface_2src_2solutionInterface_2gpu_8hpp_html_af046868f9f300b11282490852e003566aa2727ae72447eea06d4cc0ef67187280"><div class="ttname"><a href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566aa2727ae72447eea06d4cc0ef67187280">StencilOp::INVERT</a></div><div class="ttdeci">@ INVERT</div><div class="ttdoc">Stencil buffer value will be inteverted.</div></div>
<div class="ttc" id="asolutionInterface_2src_2solutionInterface_2gpu_8hpp_html_af046868f9f300b11282490852e003566ac121b991572aba8a5789d08d7e9cf76e"><div class="ttname"><a href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566ac121b991572aba8a5789d08d7e9cf76e">StencilOp::DECR</a></div><div class="ttdeci">@ DECR</div><div class="ttdoc">Stencil buffer value will be decremented with saturation (will not underflow)</div></div>
<div class="ttc" id="asolutionInterface_2src_2solutionInterface_2gpu_8hpp_html_af046868f9f300b11282490852e003566afc67535e5273d466beba3c06c0dbd988"><div class="ttname"><a href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566afc67535e5273d466beba3c06c0dbd988">StencilOp::INCR</a></div><div class="ttdeci">@ INCR</div><div class="ttdoc">Stencil buffer value will be incremented with saturation (will not overflow)</div></div>
</div><!-- fragment --><ul>
<li><a class="el" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566a60cba2874369bd3790e14ea5f8a7bc58" title="No change to the stencil buffer.">StencilOp::KEEP</a> - ponechá hodnotu ve stencilovém bufferu nezměněnou</li>
<li><a class="el" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566a529e9e0beb5f85d1f132917c1a09860c" title="Stencil buffer value will be zeroed.">StencilOp::ZERO</a> - vynuluje hodnotu ve stencilovém bufferu</li>
<li><a class="el" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566a560a2dd6f6744646473b3b19e1fe96d7" title="Stencil buffer value will be replace by reference value.">StencilOp::REPLACE</a> - zapíše do stencil bufferu referenční hodnotu <a class="el" href="structStencilSettings.html#ad24b5e058cbbd57870b6c07a44df48e1">StencilSettings::refValue</a></li>
<li><a class="el" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566afc67535e5273d466beba3c06c0dbd988" title="Stencil buffer value will be incremented with saturation (will not overflow)">StencilOp::INCR</a> - inkrementuje hodnotu ve stencilovém bufferu, pokud je 255, nechá ji být</li>
<li><a class="el" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566a056f9acd45832946a8f02289a8516e7f" title="Stencil buffer value will be incremented and return to zero on overflow.">StencilOp::INCR_WRAP</a> - inkrementuje hodnotu ve stencilovému bufferu, pokud je 255, zapíše 0</li>
<li><a class="el" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566ac121b991572aba8a5789d08d7e9cf76e" title="Stencil buffer value will be decremented with saturation (will not underflow)">StencilOp::DECR</a> - dekrementuje hodnotu ve stencilovém bufferu, pokud je 0, nechá ji být</li>
<li><a class="el" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566a6501b4eff3345af27614635221cc6c59" title="Stencil buffer value will be decremented and go to 255 on underflow.">StencilOp::DECR_WRAP</a> - dekrementuje hodnotu ve stencilovém bufferu, pokud je 0, zapíše 255</li>
<li><a class="el" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566aa2727ae72447eea06d4cc0ef67187280" title="Stencil buffer value will be inteverted.">StencilOp::INVERT</a> - bitově invertuje hodnotu ve stencilovém bufferu</li>
</ul>
<p>Pokud stencil test neprojde a je možné modifikovat stencilový buffer, modifikuje se na základě operace <a class="el" href="structStencilOps.html#a375268b2d22a9511f3f4ca01a0b3e07f">StencilOps::sfail</a>. </p><div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structStencilOps.html">StencilOps</a>{</div>
<div class="line">  <a class="code hl_enumeration" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566">StencilOp</a> <a class="code hl_variable" href="structStencilOps.html#a375268b2d22a9511f3f4ca01a0b3e07f">sfail</a>  = <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566a60cba2874369bd3790e14ea5f8a7bc58">StencilOp::KEEP</a>; </div>
<div class="line">  <a class="code hl_enumeration" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566">StencilOp</a> <a class="code hl_variable" href="structStencilOps.html#a2e4d1f63d830de4d7e11f7d361ccd8ec">dpfail</a> = <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566a60cba2874369bd3790e14ea5f8a7bc58">StencilOp::KEEP</a>; </div>
<div class="line">  <a class="code hl_enumeration" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566">StencilOp</a> <a class="code hl_variable" href="structStencilOps.html#ad94f25bfe86fb216c6bb3229cea969d3">dppass</a> = <a class="code hl_enumvalue" href="solutionInterface_2src_2solutionInterface_2gpu_8hpp.html#af046868f9f300b11282490852e003566a60cba2874369bd3790e14ea5f8a7bc58">StencilOp::KEEP</a>; </div>
<div class="line">};</div>
<div class="ttc" id="astructStencilOps_html_a2e4d1f63d830de4d7e11f7d361ccd8ec"><div class="ttname"><a href="structStencilOps.html#a2e4d1f63d830de4d7e11f7d361ccd8ec">StencilOps::dpfail</a></div><div class="ttdeci">StencilOp dpfail</div><div class="ttdoc">operation performed when fragment of backfacing triangle fails depth test</div><div class="ttdef"><b>Definition</b> gpu.hpp:357</div></div>
<div class="ttc" id="astructStencilOps_html_a375268b2d22a9511f3f4ca01a0b3e07f"><div class="ttname"><a href="structStencilOps.html#a375268b2d22a9511f3f4ca01a0b3e07f">StencilOps::sfail</a></div><div class="ttdeci">StencilOp sfail</div><div class="ttdoc">operation performed when fragment of backfacing triangle fails stencil test</div><div class="ttdef"><b>Definition</b> gpu.hpp:356</div></div>
<div class="ttc" id="astructStencilOps_html_ad94f25bfe86fb216c6bb3229cea969d3"><div class="ttname"><a href="structStencilOps.html#ad94f25bfe86fb216c6bb3229cea969d3">StencilOps::dppass</a></div><div class="ttdeci">StencilOp dppass</div><div class="ttdoc">stencil operation performed when depth test passes</div><div class="ttdef"><b>Definition</b> gpu.hpp:358</div></div>
</div><!-- fragment --><h1><a class="anchor" id="pfo_early_depth_test"></a>
Hloubkový test</h1>
<p>Hloubkový test je druhá z brzkých per fragment operací. Stará se o zahazování fragmentů, které jsou hlouběji než to, co už se vyrasterizovalo. Využívá k tomu hloubkový buffer.</p>
<div class="image">
<object type="image/svg+xml" data="pfo_early_depth.svg" width="800" style="pointer-events: none;"></object>
<div class="caption">
Vizualizace hloubkového testu. Hloubkový test nemusí být aktivní, pokud není přítomný hloubkový buffer. Pokud je přítomný hloubkový test a projde, je fragment poslán dál. Pokud selže, je přítomen stencilový buffer, je povolen zápis do stencilového bufferu a je povolen stencilový test, vyvolá se dpfail stencilová operace.</div></div>
<p>Hloubka fragmentu je "z" komponenta <a class="el" href="structInFragment.html#ae72e0b96e17181ea2cb2ef256e3f0a8f">InFragment::gl_FragCoord</a> InFragment::gl_FragCoord.z. Pokud je hloubka nového fragment menší, hloubkový test prošel. </p><div class="image">
<object type="image/svg+xml" data="depth_test.svg" width="600" style="pointer-events: none;"></object>
<div class="caption">
Vizualizace depth testu. Pokud má fragment menší hloubku, než hodnota uložená v depth testu na jeho souřadnicích, depth test projde, jinak ne. Pokud depth test projde, je fragment poslán dál.</div></div>
<h2><a class="anchor" id="pfo_early_depth_test_fail"></a>
Pokud hloubkový test selže...</h2>
<p>Podobně jako je tomu, když selže stencilový test, pokud selže hloubkový test, je možné, že se provede stencilová operace. Tentokrát však to bude operace <a class="el" href="structStencilOps.html#a2e4d1f63d830de4d7e11f7d361ccd8ec">StencilOps::dpfail</a>.</p>
<h1><a class="anchor" id="pfo_early_tasks"></a>
Úkol 5 - Naprogramovat brzké Per Fragment Operace</h1>
<h2><a class="anchor" id="pfo_early_stencil_stencil_test"></a>
Test 30 - Stencil test</h2>
<p>Tento test zkouší, zda funguje stencilový test </p><div class="fragment"><div class="line">./izgProject -c --test 30</div>
</div><!-- fragment --><h2><a class="anchor" id="pfo_early_stencil_sfail"></a>
Test 31 - Stencil Operace při sfail</h2>
<p>Tento test zkouší, zda fungují stencilové operace, když stencilový test selže </p><div class="fragment"><div class="line">./izgProject -c --test 31</div>
</div><!-- fragment --><h2><a class="anchor" id="pfo_early_depth_test_task"></a>
Test 32 - Depth test</h2>
<p>Tento test zkouší, zda funguje depth test. </p><div class="fragment"><div class="line">./izgProject -c --test 32</div>
</div><!-- fragment --><h2><a class="anchor" id="pfo_early_depth_dppas"></a>
Test 33 - Depth test a modifikace stencilového buffer při dpfail</h2>
<p>Tento test zkouší, zda fungují modifikace stencilového bufferu při dpfail. </p><div class="fragment"><div class="line">./izgProject -c --test 33</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
