<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Izg project: 13 Pozdní Per Fragment Operace</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Izg project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('p13_per_fragment_operations.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">13 Pozdní Per Fragment Operace</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Pozdní Per Fragment Operace se nachází za fragment shaderem. Jsou složeny z:</p><ul>
<li>Zahazování fragmentů (operace discard)</li>
<li>Možné modifikace stencilového bufferu (stencil operace dppass)</li>
<li>Možné modifikace hloubkového bufferu (pokud je depth buffer přítomen)</li>
<li>Možného zápisu barvy do barevného bufferu (pokud je barevný buffer přítomen)</li>
</ul>
<div class="image">
<object type="image/svg+xml" data="pfo_late.svg" width="800" style="pointer-events: none;"></object>
<div class="caption">
Pozdní Per Fragment operace se skládají ze zahazování fragmentů (discard), modifikace stencilového hloubkového a barevného bufferu.</div></div>
<h1><a class="anchor" id="pfo_late_discrad"></a>
Zahazování fragmentu (operace discard)</h1>
<p>Zahazování fragmentů je určeno na základě <a class="el" href="structOutFragment.html#aa9b70f2f945e7b287321be9a1309f512">OutFragment::discard</a>. Pokud je nastavena na true, je fragment zahozen a jeho další zpracovávání je ukončeno.</p>
<div class="image">
<object type="image/svg+xml" data="pfo_discard.svg" width="400" style="pointer-events: none;"></object>
<div class="caption">
Operace discard. Pokud fragment shader nastavil hodnotu fragmentu discard na true, je fragment vyřazen z dalšího zpracování.</div></div>
<h1><a class="anchor" id="pfo_late_stencil"></a>
Modifikace stencilového bufferu</h1>
<p>Zápis do stencilového bufferu je umožněn ještě jednou, naposled. Pokud je zápis povolen a pokud je stencil buffer přítomen, provede se nad ním operace <a class="el" href="structStencilOps.html#ad94f25bfe86fb216c6bb3229cea969d3">StencilOps::dppass</a>.</p>
<div class="image">
<object type="image/svg+xml" data="pfo_stencil_writes.svg" width="400" style="pointer-events: none;"></object>
<div class="caption">
Modifikace stencilového bufferu pomocí pdpass operací. Pokud je přítomen stencilový buffer, je stencilový test zapnut, a je povolen zápis, provede se poslední stencilová opereace dppass nad stencilovým bufferem.</div></div>
<h1><a class="anchor" id="pfo_late_depth"></a>
Modifikace hloubkového bufferu</h1>
<p>Zápis hloubky zajistí, že budoucí fragmenty nepřepíší barvu bližších objektů. Zápis je povolen v případě, že je přítomen hloubkový buffer.</p>
<div class="image">
<object type="image/svg+xml" data="pfo_depth_writes.svg" width="400" style="pointer-events: none;"></object>
<div class="caption">
Zápis hloubky do hloubkového buffer. Pokud je přítomen hloubkový buffer, zapíše do něj nová hloubka fragmentu.</div></div>
<h1><a class="anchor" id="pfo_late_color"></a>
Modifikace barevného bufferu</h1>
<p>Zápis barvy do barevného bufferu je umožněn, pokud je barevný buffer přítomen.</p>
<div class="image">
<object type="image/svg+xml" data="pfo_color_writes.svg" width="400" style="pointer-events: none;"></object>
<div class="caption">
Zápis barvy do barevného bufferu je umožněn, pokud je barevný buffer přítomen a zápis není zablokován.</div></div>
<p>Pokud se má zapsat barva, je zapsána pomocí takzvaného Blendingu. Blending využívá průhlednosti fragmentu k přímíchání nové barvy ke stávající v color bufferu. Blending má v reálu mnoho nastavení, v projetku se používá pouze alpha blending. Fragmenty mají barvu RGBA, kde A - \(\alpha\) je tzv. neprůhlednost.<br  />
 Pokud má nový fragment \(\alpha=1\) - je absolutně neprůhledný - plně přepíše barvu ve framebufferu.<br  />
 Pokud má nový fragment \(\alpha=0\) - je absolutně průhledný - vůbec barvu ve framebuffer nezmění.<br  />
 Pokud má hodnotu někde mezi, tak se barva lineárně smíchá: </p><p class="formulaDsp">
\[\displaystyle colorBuffer_{rgb} = colorBuffer_{rgb} \cdot (1-\alpha) + gl\_FragColor_{rgb} \cdot \alpha\]
</p>
<p> Kde \(\alpha=gl\_FragColor_a\)</p>
<h1><a class="anchor" id="pfo_late_tasks"></a>
Úkol 6 - Naprogramovat pozdní Per Fragment Operace</h1>
<h2><a class="anchor" id="pfo_late_discard_tasks"></a>
Test 34 - Discard</h2>
<p>Tento test zkouší, zda funguje operace discard. </p><div class="fragment"><div class="line">./izgProject -c --test 34</div>
</div><!-- fragment --><h2><a class="anchor" id="pfo_late_stencil_tasks"></a>
Test 35 - Modifikace stencilového bufferu při dppass</h2>
<p>Tento test zkouší, zda funguje stencilová operace při dppass </p><div class="fragment"><div class="line">./izgProject -c --test 35</div>
</div><!-- fragment --><h2><a class="anchor" id="pfo_late_depth_tasks"></a>
Test 36 - Modifikace depth bufferu</h2>
<p>Tento test zkouší, zda funguje zápis do hloubkového bufferu. </p><div class="fragment"><div class="line">./izgProject -c --test 36</div>
</div><!-- fragment --><h2><a class="anchor" id="pfo_late_color_tasks"></a>
Test 37 - Zápis barvy a blending</h2>
<p>Tento test zkouší, zda funguje zápis do barevného bufferu. </p><div class="fragment"><div class="line">./izgProject -c --test 37</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
